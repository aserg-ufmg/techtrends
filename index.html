<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Trends</title>

    <style>
        .topnav {
            overflow: hidden;
            background-color: #333;
        }

        .topnav a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
            cursor: pointer;
        }

        .topnav a:hover {
            background-color: #ddd;
            color: black;
        }

        .topnav a.active {
            background-color: #04AA6D;
            color: white;
        }

        path { 
            stroke: steelblue;
            stroke-width: 2;
            fill: none;
        }

        .axis path,
        .axis line {
            fill: none;
            stroke: grey;
            stroke-width: 1;
            shape-rendering: crispEdges;
        }

    </style>

    <script src="https://d3js.org/d3.v6.min.js"></script>

</head>
<body>

    <div class="topnav">
        <a class="active">JavaScript Flavors</a>
        <a>Front-end Frameworks</a>
        <a>Data Layer</a>
        <a>Back-end Frameworks</a>
        <a>Testing</a>
        <a>Build Tools</a>
        <a>Mobile & Desktop</a>
      </div>      

    <h1>Hello World</h1>


    <script>

        var flavors = ["typescript", "atscript", 
        "purescript", 
        "reason", "reasonml", 
        "eml", 
        "clojurescript"];

        var frontFrameworks = ["svelte",
        "reactjs", "react", "react-jsx", "react.js",
        "vue.js", "vuejs", "vue", "vue-js",
        "alpine.js",
        "preact",
        "lit-element",
        "stimulusjs",
        "angular", "angular2", "angular4", "angular4.x", "angularjs2",
        "ember.js", "ember", "emberjs"];

        var dataLayers = ["graphql",
        "apollo-client",
        "vuex",
        "xstate",
        "redux",
        "mobx",
        "relay", "relayjs"];

        var backendFrameworks = ["next.js", "nextjs",
        "express", "express.js", "expressjs",
        "fastify",
        "nuxt.js", "nuxt", "nuxtjs",
        "nestjs",
        "strapi",
        "koa",
        "gatsby", "gatsbyjs",
        "hapijs",
        "meteor", "meteorjs", "meteor.js"];

        var testing = ["testing-library",
        "jestjs", "jest",
        "cypress", "cypressio",
        "playwright",
        "storybook",
        "puppeteer",
        "mocha.js", "mocha",
        "jasmine",
        "ava",
        "webdriver-io"];

        var buildTools = ["esbuild", 
        "snowpack",
        "typescript", "atscript",
        "webpack",
        "parceljs",
        "rollupjs",
        //swc = "", I didn"t find anything. Github project is here: https://github.com/swc-project/swc
        "romejs",
        "gulp",
        "browserify"];

        var mobileAndDesktop = ["electron",
        "capacitor",
        "react-native",
        // NativeApps - The majority of mobile and desktop apps are still built with native languages like Java, Kotlin, Objective-C, or Swift.
        "expo",
        "quasar-framework",
        "ionic-framework", "ionic",
        "nwjs",
        "cordova", "apache-cordova"];

        // Set the dimensions of the canvas / graph
        var margin = {top: 30, right: 20, bottom: 30, left: 50},
            width = 600 - margin.left - margin.right,
            height = 270 - margin.top - margin.bottom;

        // Set the ranges
        var x = d3.scaleTime().range([0, width]);  
        var y = d3.scaleLinear().range([height, 0]);

        // Define the line
        var questionsline = d3.line()    
            .x(function(d) { return x(d.months); })
            .y(function(d) { return y(d.questions); });
            
        // Adds the svg canvas
        var svg = d3.select("body")
            .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
            .append("g")
                .attr("transform", 
                    "translate(" + margin.left + "," + margin.top + ")");


        d3.csv("QueryResults.csv")
            .then(function(data) {
                data.forEach(function (d) {
                    var date = new Date();
                    var years = Math.floor(d.months/12);
                    var months = d.months % 12;
                    d["months"] = new Date(date.getFullYear() - years, date.getMonth() - months); // convert elapsed months to JS date
                    d["questions"] = parseInt(d.questions);
                });

            });

    </script>

</body>
</html>